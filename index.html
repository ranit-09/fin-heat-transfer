<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Cylindrical Fin Heat Transfer — Visual</title>

    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <!-- Chart.js and zoom plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js"></script>

    <style>
      .cards {
        display: flex;
        gap: 1rem;
        align-items: stretch;
        /* keep side-by-side on very small screens by allowing shrink */
        flex-wrap: nowrap;
      }

      .card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        padding: 16px;
        border: 1px solid rgba(0, 0, 0, 0.06);
        flex: 1 1 0; /* grow, shrink, base */
        min-width: 180px; /* allow shrinking but not too small */
        height: 320px; /* fixed height so canvases align */
        display: flex;
        flex-direction: column;
      }

      .card h3 {
        margin-bottom: 8px;
      }

      .card canvas {
        flex: 1 1 auto;
      }

      @media (max-width: 420px) {
        .card {
          min-width: 140px;
          height: 260px;
          padding: 12px;
        }
      }
    </style>
  </head>

  <body
    class="bg-gradient-to-br from-purple-600 to-indigo-600 p-6 min-h-screen"
  >
    <div class="max-w-5xl mx-auto bg-white rounded-2xl shadow-xl p-6">
      <h1 class="text-2xl font-bold text-center mb-4">
        Cylindrical Fin Heat Transfer Analysis
      </h1>

      <div class="grid grid-cols-2 gap-4 mb-4">
        <div>
          <label for="inputPoints" class="font-semibold">Number of measurement points (N):</label>
          <input
            id="inputPoints"
            type="number"
            value="10"
            class="w-full border rounded p-2"
          />
        </div>

        <div>
          <label for="Ta" class="font-semibold">Ambient temperature Ta (°C):</label>
          <input
            id="Ta"
            type="number"
            value="25"
            class="w-full border rounded p-2"
          />
        </div>

        <div>
          <label for="xVals" class="font-semibold">x values (m), comma-separated:</label>
          <input
            id="xVals"
            value="0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09
"
            class="w-full border rounded p-2"
          />
        </div>

        <div>
          <label for="tempValues" class="font-semibold"
            >T(x) values (°C), comma-separated:</label
          >
          <input
            id="tempValues"
            value="100, 88, 79, 71, 64, 58, 53, 48, 44, 41
"
            class="w-full border rounded p-2"
          />
        </div>

        <div>
          <label for="D" class="font-semibold">Fin diameter D (m):</label>
          <input id="D" value="0.01" class="w-full border rounded p-2" />
        </div>

        <div>
          <label for="L" class="font-semibold">Fin length L (m):</label>
          <input id="L" value="0.1" class="w-full border rounded p-2" />
        </div>

        <div class="col-span-2">
          <label for="k" class="font-semibold">Thermal conductivity k (W/m·K):</label>
          <input id="k" value="200" class="w-full border rounded p-2" />
        </div>
      </div>

      <div class="flex gap-3">
        <button
          onclick="calculate()"
          class="px-4 py-2 bg-purple-600 text-white rounded shadow hover:bg-purple-700"
        >
          Compute
        </button>
        <button
          onclick="resetAllZoom()"
          class="px-4 py-2 bg-gray-200 rounded shadow hover:bg-gray-300"
        >
          Reset Zoom
        </button>
      </div>

      <div id="output" class="mt-4 bg-gray-100 rounded p-4"></div>

      <div class="cards mt-6">
        <div class="card">
          <h3 class="text-center font-semibold">Temperature vs Distance</h3>
          <canvas id="chart"></canvas>
        </div>

        <div class="card">
          <h3 class="text-center font-semibold">ln(T - Ta) vs Distance</h3>
          <canvas id="chart2"></canvas>
        </div>
      </div>

      <p class="mt-3 text-sm text-gray-600">
        Tip: use mouse wheel to zoom, drag to pan. On touch devices pinch to
        zoom.
      </p>
    </div>

    <script src="script.js" defer></script>
  </body>
</html>
